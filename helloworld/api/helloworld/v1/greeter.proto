syntax = "proto3";

package helloworld.v1;

import "google/api/annotations.proto";

option go_package = "helloworld/api/helloworld/v1;v1";
option java_multiple_files = true;
option java_package = "dev.kratos.api.helloworld.v1";
option java_outer_classname = "HelloworldProtoV1";

service Greeter {
  rpc SendSms (SendSmsRequest) returns (SendSmsReply) {
    option (google.api.http) = {
      post: "/user/sendSms"
      body: "*"
    };
  }

  rpc Login (LoginRequest) returns (LoginReply) {
    option (google.api.http) = {
      post: "/user/login"
      body: "*"
    };
  }
  rpc UpdateUser (UpdateUserRequest) returns (UpdateUserReply) {
    option (google.api.http) = {
      post: "/user/updateUser"
      body: "*"
    };
  }
  rpc InfoUser (InfoUserRequest) returns (InfoUserReply) {
    option (google.api.http) = {
      post: "/user/infoUser"
      body: "*"
    };
  }
  rpc RealName (RealNameRequest) returns (RealNameReply) {
    option (google.api.http) = {
      get: "/user/realName"
    };
  }

  rpc DriverRegister (DriverRegisterRequest) returns (DriverRegisterReply) {
    option (google.api.http) = {
      post: "/driver/driverRegister"
      body: "*"
    };
  }

  rpc DriverStatus (DriverStatusRequest) returns (DriverStatusReply) {
    option (google.api.http) = {
      post: "/driver/driverStatus"
      body: "*"
    };
  }

  rpc DriverUpdate (DriverUpdateRequest) returns (DriverUpdateReply) {
    option (google.api.http) = {
      post: "/driver/driverUpdate"
      body: "*"
    };
  }


  rpc AddressList (AddressListRequest) returns (AddressListReply) {
    option (google.api.http) = {
      post: "/map/addressList"
      body: "*"
    };
  }

  rpc UserAddress (UserAddressRequest) returns (UserAddressReply) {
    option (google.api.http) = {
      post: "/map/userAddress"
      body: "*"
    };
  }

  rpc CreateTrip (CreateTripRequest) returns (CreateTripReply) {
    option (google.api.http) = {
      post: "/map/createTrip"
      body: "*"
    };
  }

  rpc DriverOrder (DriverOrderRequest) returns (DriverOrderReply) {
    option (google.api.http) = {
      post: "/driver/DriverOrder"
      body: "*"
    };
  }

  rpc PayOrder (PayOrderRequest) returns (PayOrderReply) {
    option (google.api.http) = {
      post: "/user/payOrder"
      body: "*"
    };
  }


}

message SendSmsRequest {
  string mobile=1;
  string SendSmsCode=2;
}

message SendSmsReply {
  int64 code = 1;
  string message = 2;
}


message LoginRequest {
  string mobile=1;
  string SendSmsCode=2;
}

message LoginReply {
  int64 code = 1;
  string message = 2;
  string token = 3;
}

message UpdateUserRequest {
 int64  id=1;
 string mobile=2;
 string nickName=3;
 string sex=4;
}

message UpdateUserReply {
  int64 code = 1;
  string message = 2;
}

message InfoUserRequest {
  int64  id=1;
}

message InfoUserReply {
  int64 code=1;
  string message= 2;
  repeated Data info=3;
}
message Data {
  string mobile=1;
  string userName=2;
  string nickName=3;
  string sex=4;
}


message RealNameRequest {
  int64  user_id=1;
  string real_name=2;
  string id_card=3;
}

message RealNameReply {
  int64 code=1;
  string message= 2;
}


message DriverRegisterRequest {
  int32 user_id = 1;
  string name = 2;
  string nick_name = 3;
  int32 car_age = 4;
  string mobile = 5;
  int32 file_id = 6;
  string id_card_file_id = 7;
  string driver_license_file_id = 8;
  string driving_license_file_id = 9;
  string avator_file_id = 10;
}

message DriverRegisterReply {
  int64 code=1;
  string message= 2;
}

message DriverStatusRequest {
  int32 id = 1;
  string status = 2;
}

message DriverStatusReply {
  int64 code=1;
  string message= 2;
}


message DriverUpdateRequest {
  int32 id = 1;
  string name = 2;
  string nick_name = 3;
  int32 car_age = 4;
  string mobile = 5;
}

message DriverUpdateReply {
  int64 code=1;
  string message= 2;
}

message AddressListRequest {
  int64 page = 1;
  int64 size = 2;
  string province=3;
  string city=4;
  string district=5;
}

message AddressListReply {
  repeated AddressList list=1;
}

message AddressList {
  string address=1;
  string province=2;
  string city=3;
  string district=4;
  string tel=5;
}

message UserAddressRequest {
  int64 user_id = 1;
  double longitude = 2;
  double latitude = 3;
}

message UserAddressReply {
  int64 code = 1;
  string message = 2;
  string address = 3;
  string province = 4;
  string city = 5;
  string district = 6;
}

message CreateTripRequest {
  int64 user_id = 1;
  double start_lng = 2;
  double start_lat = 3;
  double end_lng = 4;
  double end_lat = 5;
  string start_addr = 6;
  string end_addr = 7;
}


message CreateTripReply {
  int64 trip_id = 1;
  string order_code = 2;
  double price = 3;
  string order_status = 4;
}



message DriverOrderRequest {
  int32 driver_id = 1;
  string order_code = 2;

}


message DriverOrderReply {
  int32 code = 1;
  string message = 2;
}



message PayOrderRequest {
  int64 id = 1;
}

message PayOrderReply {
  int32 code =1;
  string msg =2;
  string pay_url=3;
}